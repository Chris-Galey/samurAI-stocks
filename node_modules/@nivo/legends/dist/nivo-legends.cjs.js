"use strict";var t=require("react/jsx-runtime"),e=require("d3-scale"),i=require("@nivo/core"),n=require("@nivo/colors"),o=require("react"),r=require("prop-types");function l(t){var e=Object.create(null);return t&&Object.keys(t).forEach((function(i){if("default"!==i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}})),e.default=t,Object.freeze(e)}var a=l(o),s=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("circle",{r:o/2,cx:i+o/2,cy:n+o/2,fill:r,opacity:a,strokeWidth:c,stroke:g,style:{pointerEvents:"none"}})},c=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("g",{transform:"translate("+i+","+n+")",children:t.jsx("path",{d:"\n                    M"+o/2+" 0\n                    L"+.8*o+" "+o/2+"\n                    L"+o/2+" "+o+"\n                    L"+.2*o+" "+o/2+"\n                    L"+o/2+" 0\n                ",fill:r,opacity:a,strokeWidth:c,stroke:g,style:{pointerEvents:"none"}})})},d=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("rect",{x:i,y:n,fill:r,opacity:a,strokeWidth:c,stroke:g,width:o,height:o,style:{pointerEvents:"none"}})},g=function(e){var i=e.x,n=e.y,o=e.size,r=e.fill,l=e.opacity,a=void 0===l?1:l,s=e.borderWidth,c=void 0===s?0:s,d=e.borderColor,g=void 0===d?"transparent":d;return t.jsx("g",{transform:"translate("+i+","+n+")",children:t.jsx("path",{d:"\n                M"+o/2+" 0\n                L"+o+" "+o+"\n                L0 "+o+"\n                L"+o/2+" 0\n            ",fill:r,opacity:a,strokeWidth:c,stroke:g,style:{pointerEvents:"none"}})})};function h(){return h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},h.apply(this,arguments)}var u={length:200,thickness:16,direction:"row",tickPosition:"after",tickSize:4,tickSpacing:3,tickOverlap:!1,tickFormat:function(t){return""+t},titleAlign:"start",titleOffset:4},m={top:0,right:0,bottom:0,left:0},f=function(t){var e,i=t.direction,n=t.itemsSpacing,o=t.padding,r=t.itemCount,l=t.itemWidth,a=t.itemHeight;if("number"!=typeof o&&("object"!=typeof(e=o)||Array.isArray(e)||null===e))throw new Error("Invalid property padding, must be one of: number, object");var s="number"==typeof o?{top:o,right:o,bottom:o,left:o}:h({},m,o),c=s.left+s.right,d=s.top+s.bottom,g=l+c,u=a+d,f=(r-1)*n;return"row"===i?g=l*r+f+c:"column"===i&&(u=a*r+f+d),{width:g,height:u,padding:s}},p=function(t){var e=t.anchor,i=t.translateX,n=t.translateY,o=t.containerWidth,r=t.containerHeight,l=t.width,a=t.height,s=i,c=n;switch(e){case"top":s+=(o-l)/2;break;case"top-right":s+=o-l;break;case"right":s+=o-l,c+=(r-a)/2;break;case"bottom-right":s+=o-l,c+=r-a;break;case"bottom":s+=(o-l)/2,c+=r-a;break;case"bottom-left":c+=r-a;break;case"left":c+=(r-a)/2;break;case"center":s+=(o-l)/2,c+=(r-a)/2}return{x:s,y:c}},v=function(t){var e,i,n,o,r,l,a=t.direction,s=t.justify,c=t.symbolSize,d=t.symbolSpacing,g=t.width,h=t.height;switch(a){case"left-to-right":e=0,i=(h-c)/2,o=h/2,l="central",s?(n=g,r="end"):(n=c+d,r="start");break;case"right-to-left":e=g-c,i=(h-c)/2,o=h/2,l="central",s?(n=0,r="start"):(n=g-c-d,r="end");break;case"top-to-bottom":e=(g-c)/2,i=0,n=g/2,r="middle",s?(o=h,l="alphabetic"):(o=c+d,l="text-before-edge");break;case"bottom-to-top":e=(g-c)/2,i=h-c,n=g/2,r="middle",s?(o=0,l="text-before-edge"):(o=h-c-d,l="alphabetic")}return{symbolX:e,symbolY:i,labelX:n,labelY:o,labelAnchor:r,labelAlignment:l}},x=function(t){var o,r=t.scale,l=t.ticks,a=t.length,s=void 0===a?u.length:a,c=t.thickness,d=void 0===c?u.thickness:c,g=t.direction,h=void 0===g?u.direction:g,m=t.tickPosition,f=void 0===m?u.tickPosition:m,p=t.tickSize,v=void 0===p?u.tickSize:p,x=t.tickSpacing,y=void 0===x?u.tickSpacing:x,b=t.tickOverlap,k=void 0===b?u.tickOverlap:b,S=t.tickFormat,C=void 0===S?u.tickFormat:S,A=t.title,j=t.titleAlign,O=void 0===j?u.titleAlign:j,W=t.titleOffset,z=void 0===W?u.titleOffset:W,B="column"===h?[].concat(r.domain()).reverse():r.domain(),w=e.scaleLinear().domain(B);2===B.length?w.range([0,s]):3===B.length&&w.range([0,s/2,s]),o="thresholds"in r?[B[0]].concat(r.thresholds(),[B[1]]):Array.isArray(l)?l:r.ticks(l);var X,Y,L,H,T,E,q=n.computeContinuousColorScaleColorStops(r,32),M=i.getValueFormatter(C),F=[],P=0,R=0;if("row"===h){var D,V,G;X=s,Y=d,R=1;var I;T=0,L="start"===O?0:"middle"===O?s/2:s,"before"===f?(D=-v,V=k?d:0,G=-v-y,I="alphabetic",H=d+z,E="hanging"):(D=k?0:d,G=(V=d+v)+y,I="hanging",H=-z,E="alphabetic"),o.forEach((function(t){var e=w(t);F.push({x1:e,y1:D,x2:e,y2:V,text:M(t),textX:e,textY:G,textHorizontalAlign:"middle",textVerticalAlign:I})}))}else{var N,Q,_,J;X=d,Y=s,P=1;T=-90,H="start"===O?s:"middle"===O?s/2:0,"before"===f?(Q=k?d:0,_=(N=-v)-y,J="end",L=d+z,E="hanging"):(N=k?0:d,_=(Q=d+v)+y,J="start",L=-z,E="alphabetic"),o.forEach((function(t){var e=w(t);F.push({x1:N,y1:e,x2:Q,y2:e,text:M(t),textX:_,textY:e,textHorizontalAlign:J,textVerticalAlign:"central"})}))}return{width:X,height:Y,gradientX1:0,gradientY1:P,gradientX2:R,gradientY2:0,colorStops:q,ticks:F,titleText:A,titleX:L,titleY:H,titleRotation:T,titleHorizontalAlign:O,titleVerticalAlign:E}},y=function(e){var n=e.scale,r=e.ticks,l=e.length,a=void 0===l?u.length:l,s=e.thickness,c=void 0===s?u.thickness:s,d=e.direction,g=void 0===d?u.direction:d,m=e.tickPosition,f=void 0===m?u.tickPosition:m,p=e.tickSize,v=void 0===p?u.tickSize:p,y=e.tickSpacing,b=void 0===y?u.tickSpacing:y,k=e.tickOverlap,S=void 0===k?u.tickOverlap:k,C=e.tickFormat,A=void 0===C?u.tickFormat:C,j=e.title,O=e.titleAlign,W=void 0===O?u.titleAlign:O,z=e.titleOffset,B=x({scale:n,ticks:r,length:a,thickness:c,direction:g,tickPosition:f,tickSize:v,tickSpacing:b,tickOverlap:S,tickFormat:A,title:j,titleAlign:W,titleOffset:void 0===z?u.titleOffset:z}),w=B.width,X=B.height,Y=B.gradientX1,L=B.gradientY1,H=B.gradientX2,T=B.gradientY2,E=B.ticks,q=B.colorStops,M=B.titleText,F=B.titleX,P=B.titleY,R=B.titleRotation,D=B.titleVerticalAlign,V=B.titleHorizontalAlign,G=i.useTheme(),I="ContinuousColorsLegendSvgGradient."+g+"."+q.map((function(t){return t.offset})).join("_");return t.jsxs("g",{children:[t.jsx("defs",{children:t.jsx("linearGradient",{id:I,x1:Y,y1:L,x2:H,y2:T,children:q.map((function(e){return t.jsx("stop",h({},e))}))})}),M&&t.jsx("text",{transform:"translate("+F+", "+P+") rotate("+R+")",textAnchor:V,dominantBaseline:D,style:G.legends.title.text,children:M}),t.jsx("rect",{width:w,height:X,fill:"url(#"+I}),E.map((function(e,i){return t.jsxs(o.Fragment,{children:[t.jsx("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,style:G.legends.ticks.line}),t.jsx("text",{x:e.textX,y:e.textY,textAnchor:e.textHorizontalAlign,dominantBaseline:e.textVerticalAlign,style:G.legends.ticks.text,children:e.text})]},i)}))]})},b=["containerWidth","containerHeight","anchor","translateX","translateY","length","thickness","direction"],k={circle:s,diamond:c,square:d,triangle:g},S=function(e){var n,r,l,s,c,d,g,u,m,f,p,x=e.x,y=e.y,b=e.width,S=e.height,C=e.data,A=e.direction,j=void 0===A?"left-to-right":A,O=e.justify,W=void 0!==O&&O,z=e.textColor,B=e.background,w=void 0===B?"transparent":B,X=e.opacity,Y=void 0===X?1:X,L=e.symbolShape,H=void 0===L?"square":L,T=e.symbolSize,E=void 0===T?16:T,q=e.symbolSpacing,M=void 0===q?8:q,F=e.symbolBorderWidth,P=void 0===F?0:F,R=e.symbolBorderColor,D=void 0===R?"transparent":R,V=e.onClick,G=e.onMouseEnter,I=e.onMouseLeave,N=e.toggleSerie,Q=e.effects,_=o.useState({}),J=_[0],K=_[1],U=i.useTheme(),Z=o.useCallback((function(t){if(Q){var e=Q.filter((function(t){return"hover"===t.on})).reduce((function(t,e){return h({},t,e.style)}),{});K(e)}null==G||G(C,t)}),[G,C,Q]),$=o.useCallback((function(t){if(Q){var e=Q.filter((function(t){return"hover"!==t.on})).reduce((function(t,e){return h({},t,e.style)}),{});K(e)}null==I||I(C,t)}),[I,C,Q]),tt=v({direction:j,justify:W,symbolSize:null!=(n=J.symbolSize)?n:E,symbolSpacing:M,width:b,height:S}),et=tt.symbolX,it=tt.symbolY,nt=tt.labelX,ot=tt.labelY,rt=tt.labelAnchor,lt=tt.labelAlignment,at=[V,G,I,N].some((function(t){return void 0!==t})),st="function"==typeof H?H:k[H];return t.jsxs("g",{transform:"translate("+x+","+y+")",style:{opacity:null!=(r=J.itemOpacity)?r:Y},children:[t.jsx("rect",{width:b,height:S,fill:null!=(l=J.itemBackground)?l:w,style:{cursor:at?"pointer":"auto"},onClick:function(t){null==V||V(C,t),null==N||N(C.id)},onMouseEnter:Z,onMouseLeave:$}),a.createElement(st,h({id:C.id,x:et,y:it,size:null!=(s=J.symbolSize)?s:E,fill:null!=(c=null!=(d=C.fill)?d:C.color)?c:"black",borderWidth:null!=(g=J.symbolBorderWidth)?g:P,borderColor:null!=(u=J.symbolBorderColor)?u:D},C.hidden?U.legends.hidden.symbol:void 0)),t.jsx("text",{textAnchor:rt,style:h({},U.legends.text,{fill:null!=(m=null!=(f=null!=(p=J.itemTextColor)?p:z)?f:U.legends.text.fill)?m:"black",dominantBaseline:lt,pointerEvents:"none",userSelect:"none"},C.hidden?U.legends.hidden.text:void 0),x:nt,y:ot,children:C.label})]})},C=function(e){var i=e.data,n=e.x,o=e.y,r=e.direction,l=e.padding,a=void 0===l?0:l,s=e.justify,c=e.effects,d=e.itemWidth,g=e.itemHeight,h=e.itemDirection,u=void 0===h?"left-to-right":h,m=e.itemsSpacing,p=void 0===m?0:m,v=e.itemTextColor,x=e.itemBackground,y=void 0===x?"transparent":x,b=e.itemOpacity,k=void 0===b?1:b,C=e.symbolShape,A=e.symbolSize,j=e.symbolSpacing,O=e.symbolBorderWidth,W=e.symbolBorderColor,z=e.onClick,B=e.onMouseEnter,w=e.onMouseLeave,X=e.toggleSerie,Y=f({itemCount:i.length,itemWidth:d,itemHeight:g,itemsSpacing:p,direction:r,padding:a}).padding,L="row"===r?d+p:0,H="column"===r?g+p:0;return t.jsx("g",{transform:"translate("+n+","+o+")",children:i.map((function(e,i){return t.jsx(S,{data:e,x:i*L+Y.left,y:i*H+Y.top,width:d,height:g,direction:u,justify:s,effects:c,textColor:v,background:y,opacity:k,symbolShape:C,symbolSize:A,symbolSpacing:j,symbolBorderWidth:O,symbolBorderColor:W,onClick:z,onMouseEnter:B,onMouseLeave:w,toggleSerie:X},i)}))})},A={start:"left",middle:"center",end:"right"},j={data:r.arrayOf(r.object),anchor:r.oneOf(["top","top-right","right","bottom-right","bottom","bottom-left","left","top-left","center"]).isRequired,translateX:r.number,translateY:r.number,direction:r.oneOf(["row","column"]).isRequired,itemsSpacing:r.number,itemWidth:r.number.isRequired,itemHeight:r.number.isRequired,itemDirection:r.oneOf(["left-to-right","right-to-left","top-to-bottom","bottom-to-top"]),itemTextColor:r.string,itemBackground:r.string,itemOpacity:r.number,symbolShape:r.oneOfType([r.oneOf(["circle","diamond","square","triangle"]),r.func]),symbolSize:r.number,symbolSpacing:r.number,symbolBorderWidth:r.number,symbolBorderColor:r.string,onClick:r.func,onMouseEnter:r.func,onMouseLeave:r.func,effects:r.arrayOf(r.shape({on:r.oneOfType([r.oneOf(["hover"])]).isRequired,style:r.shape({itemTextColor:r.string,itemBackground:r.string,itemOpacity:r.number,symbolSize:r.number,symbolBorderWidth:r.number,symbolBorderColor:r.string}).isRequired}))};exports.AnchoredContinuousColorsLegendSvg=function(e){var i,n,o=e.containerWidth,r=e.containerHeight,l=e.anchor,a=e.translateX,s=void 0===a?0:a,c=e.translateY,d=void 0===c?0:c,g=e.length,m=void 0===g?u.length:g,f=e.thickness,v=void 0===f?u.thickness:f,x=e.direction,k=void 0===x?u.direction:x,S=function(t,e){if(null==t)return{};var i,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)i=r[n],e.indexOf(i)>=0||(o[i]=t[i]);return o}(e,b);"row"===k?(i=m,n=v):(i=v,n=m);var C=p({anchor:l,translateX:s,translateY:d,containerWidth:o,containerHeight:r,width:i,height:n}),A=C.x,j=C.y;return t.jsx("g",{transform:"translate("+A+", "+j+")",children:t.jsx(y,h({length:m,thickness:v,direction:k},S))})},exports.BoxLegendSvg=function(e){var i=e.data,n=e.containerWidth,o=e.containerHeight,r=e.translateX,l=void 0===r?0:r,a=e.translateY,s=void 0===a?0:a,c=e.anchor,d=e.direction,g=e.padding,h=void 0===g?0:g,u=e.justify,m=e.itemsSpacing,v=void 0===m?0:m,x=e.itemWidth,y=e.itemHeight,b=e.itemDirection,k=e.itemTextColor,S=e.itemBackground,A=e.itemOpacity,j=e.symbolShape,O=e.symbolSize,W=e.symbolSpacing,z=e.symbolBorderWidth,B=e.symbolBorderColor,w=e.onClick,X=e.onMouseEnter,Y=e.onMouseLeave,L=e.toggleSerie,H=e.effects,T=f({itemCount:i.length,itemsSpacing:v,itemWidth:x,itemHeight:y,direction:d,padding:h}),E=T.width,q=T.height,M=p({anchor:c,translateX:l,translateY:s,containerWidth:n,containerHeight:o,width:E,height:q}),F=M.x,P=M.y;return t.jsx(C,{data:i,x:F,y:P,direction:d,padding:h,justify:u,effects:H,itemsSpacing:v,itemWidth:x,itemHeight:y,itemDirection:b,itemTextColor:k,itemBackground:S,itemOpacity:A,symbolShape:j,symbolSize:O,symbolSpacing:W,symbolBorderWidth:z,symbolBorderColor:B,onClick:w,onMouseEnter:X,onMouseLeave:Y,toggleSerie:"boolean"==typeof L?void 0:L})},exports.ContinuousColorsLegendSvg=y,exports.LegendPropShape=j,exports.LegendSvg=C,exports.LegendSvgItem=S,exports.SymbolCircle=s,exports.SymbolDiamond=c,exports.SymbolSquare=d,exports.SymbolTriangle=g,exports.computeContinuousColorsLegend=x,exports.computeDimensions=f,exports.computeItemLayout=v,exports.computePositionFromAnchor=p,exports.continuousColorsLegendDefaults=u,exports.renderContinuousColorLegendToCanvas=function(t,e){var n=e.containerWidth,o=e.containerHeight,r=e.anchor,l=e.translateX,a=void 0===l?0:l,s=e.translateY,c=void 0===s?0:s,d=e.scale,g=e.length,h=void 0===g?u.length:g,m=e.thickness,f=void 0===m?u.thickness:m,v=e.direction,y=void 0===v?u.direction:v,b=e.ticks,k=e.tickPosition,S=void 0===k?u.tickPosition:k,C=e.tickSize,A=void 0===C?u.tickSize:C,j=e.tickSpacing,O=void 0===j?u.tickSpacing:j,W=e.tickOverlap,z=void 0===W?u.tickOverlap:W,B=e.tickFormat,w=void 0===B?u.tickFormat:B,X=e.title,Y=e.titleAlign,L=void 0===Y?u.titleAlign:Y,H=e.titleOffset,T=void 0===H?u.titleOffset:H,E=e.theme,q=x({scale:d,ticks:b,length:h,thickness:f,direction:y,tickPosition:S,tickSize:A,tickSpacing:O,tickOverlap:z,tickFormat:w,title:X,titleAlign:L,titleOffset:T}),M=q.width,F=q.height,P=q.gradientX1,R=q.gradientY1,D=q.gradientX2,V=q.gradientY2,G=q.colorStops,I=q.ticks,N=q.titleText,Q=q.titleX,_=q.titleY,J=q.titleRotation,K=q.titleVerticalAlign,U=q.titleHorizontalAlign,Z=p({anchor:r,translateX:a,translateY:c,containerWidth:n,containerHeight:o,width:M,height:F}),$=Z.x,tt=Z.y,et={font:t.font,textAlign:t.textAlign,textBaseline:t.textBaseline};t.save(),t.translate($,tt);var it=t.createLinearGradient(P*M,R*F,D*M,V*F);G.forEach((function(t){it.addColorStop(t.offset,t.stopColor)})),t.fillStyle=it,t.fillRect(0,0,M,F),t.font=(E.legends.ticks.text.fontWeight?E.legends.ticks.text.fontWeight+" ":"")+E.legends.ticks.text.fontSize+"px "+E.legends.ticks.text.fontFamily,I.forEach((function(e){var i;(null!=(i=E.legends.ticks.line.strokeWidth)?i:0)>0&&(t.lineWidth=Number(E.axis.ticks.line.strokeWidth),E.axis.ticks.line.stroke&&(t.strokeStyle=E.axis.ticks.line.stroke),t.lineCap="square",t.beginPath(),t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.stroke()),E.legends.ticks.text.fill&&(t.fillStyle=E.legends.ticks.text.fill),t.textAlign="middle"===e.textHorizontalAlign?"center":e.textHorizontalAlign,t.textBaseline="central"===e.textVerticalAlign?"middle":e.textVerticalAlign,t.fillText(e.text,e.textX,e.textY)})),N&&(t.save(),t.translate(Q,_),t.rotate(i.degreesToRadians(J)),t.font=(E.legends.title.text.fontWeight?E.legends.title.text.fontWeight+" ":"")+E.legends.title.text.fontSize+"px "+E.legends.title.text.fontFamily,E.legends.title.text.fill&&(t.fillStyle=E.legends.title.text.fill),t.textAlign="middle"===U?"center":U,t.textBaseline=K,t.fillText(N,0,0),t.restore()),t.restore(),t.font=et.font,t.textAlign=et.textAlign,t.textBaseline=et.textBaseline},exports.renderLegendToCanvas=function(t,e){var i=e.data,n=e.containerWidth,o=e.containerHeight,r=e.translateX,l=void 0===r?0:r,a=e.translateY,s=void 0===a?0:a,c=e.anchor,d=e.direction,g=e.padding,h=void 0===g?0:g,u=e.justify,m=void 0!==u&&u,x=e.itemsSpacing,y=void 0===x?0:x,b=e.itemWidth,k=e.itemHeight,S=e.itemDirection,C=void 0===S?"left-to-right":S,j=e.itemTextColor,O=e.symbolSize,W=void 0===O?16:O,z=e.symbolSpacing,B=void 0===z?8:z,w=e.theme,X=f({itemCount:i.length,itemWidth:b,itemHeight:k,itemsSpacing:y,direction:d,padding:h}),Y=X.width,L=X.height,H=X.padding,T=p({anchor:c,translateX:l,translateY:s,containerWidth:n,containerHeight:o,width:Y,height:L}),E=T.x,q=T.y,M="row"===d?b+y:0,F="column"===d?k+y:0;t.save(),t.translate(E,q),t.font=w.legends.text.fontSize+"px "+(w.legends.text.fontFamily||"sans-serif"),i.forEach((function(e,i){var n,o,r=i*M+H.left,l=i*F+H.top,a=v({direction:C,justify:m,symbolSize:W,symbolSpacing:B,width:b,height:k}),s=a.symbolX,c=a.symbolY,d=a.labelX,g=a.labelY,h=a.labelAnchor,u=a.labelAlignment;t.fillStyle=null!=(n=e.color)?n:"black",t.fillRect(r+s,l+c,W,W),t.textAlign=A[h],"central"===u&&(t.textBaseline="middle"),t.fillStyle=null!=(o=null!=j?j:w.legends.text.fill)?o:"black",t.fillText(String(e.label),r+d,l+g)})),t.restore()},exports.useQuantizeColorScaleLegendData=function(t){var e=t.scale,i=t.domain,n=t.reverse,r=void 0!==n&&n,l=t.valueFormat,a=void 0===l?function(t){return t}:l,s=t.separator,c=void 0===s?" - ":s;return o.useMemo((function(){var t=(null!=i?i:e.range()).map((function(t,i){var n=e.invertExtent(t),o=n[0],r=n[1];return{id:t,index:i,extent:[o,r],label:""+a(o)+c+a(r),value:e(o),color:t}}));return r&&t.reverse(),t}),[i,e,r,c,a])};
//# sourceMappingURL=nivo-legends.cjs.js.map
