import{createContext as e,useMemo as r,useContext as t,useRef as i,useEffect as n,useState as o,cloneElement as a,useCallback as l,memo as s,createElement as d,Component as u}from"react";import c from"prop-types";import{TooltipProvider as f,Tooltip as p,useTooltipHandlers as h,TooltipActionsContext as g,TooltipStateContext as b}from"@nivo/tooltip";import m from"lodash/merge";import y from"lodash/get";import v from"lodash/set";import{interpolateString as R}from"d3-interpolate";import{config as q,useSpring as k,to as _,animated as w}from"@react-spring/web";import{isString as x}from"lodash";import{jsx as O,jsxs as W}from"react/jsx-runtime";import C from"lodash/last";import z from"lodash/isArray";import P from"lodash/isString";import{scaleQuantize as T,scaleOrdinal as S,scaleSequential as M}from"d3-scale";import{schemeBrBG as j,schemePRGn as B,schemePiYG as G,schemePuOr as L,schemeRdBu as I,schemeRdGy as D,schemeRdYlBu as Y,schemeRdYlGn as A,schemeSpectral as F,schemeBlues as E,schemeGreens as U,schemeGreys as X,schemeOranges as H,schemePurples as K,schemeReds as N,schemeBuGn as V,schemeBuPu as J,schemeGnBu as Q,schemeOrRd as Z,schemePuBuGn as $,schemePuBu as ee,schemePuRd as re,schemeRdPu as te,schemeYlGnBu as ie,schemeYlGn as ne,schemeYlOrBr as oe,schemeYlOrRd as ae,schemeCategory10 as le,schemeAccent as se,schemeDark2 as de,schemePaired as ue,schemePastel1 as ce,schemePastel2 as fe,schemeSet1 as pe,schemeSet2 as he,schemeSet3 as ge,interpolateBrBG as be,interpolatePRGn as me,interpolatePiYG as ye,interpolatePuOr as ve,interpolateRdBu as Re,interpolateRdGy as qe,interpolateRdYlBu as ke,interpolateRdYlGn as _e,interpolateSpectral as we,interpolateBlues as xe,interpolateGreens as Oe,interpolateGreys as We,interpolateOranges as Ce,interpolatePurples as ze,interpolateReds as Pe,interpolateViridis as Te,interpolateInferno as Se,interpolateMagma as Me,interpolatePlasma as je,interpolateWarm as Be,interpolateCool as Ge,interpolateCubehelixDefault as Le,interpolateBuGn as Ie,interpolateBuPu as De,interpolateGnBu as Ye,interpolateOrRd as Ae,interpolatePuBuGn as Fe,interpolatePuBu as Ee,interpolatePuRd as Ue,interpolateRdPu as Xe,interpolateYlGnBu as He,interpolateYlGn as Ke,interpolateYlOrBr as Ne,interpolateYlOrRd as Ve,interpolateRainbow as Je,interpolateSinebow as Qe}from"d3-scale-chromatic";import Ze from"lodash/isFunction";import $e from"lodash/without";import{curveBasis as er,curveBasisClosed as rr,curveBasisOpen as tr,curveBundle as ir,curveCardinal as nr,curveCardinalClosed as or,curveCardinalOpen as ar,curveCatmullRom as lr,curveCatmullRomClosed as sr,curveCatmullRomOpen as dr,curveLinear as ur,curveLinearClosed as cr,curveMonotoneX as fr,curveMonotoneY as pr,curveNatural as hr,curveStep as gr,curveStepAfter as br,curveStepBefore as mr,stackOrderAscending as yr,stackOrderDescending as vr,stackOrderInsideOut as Rr,stackOrderNone as qr,stackOrderReverse as kr,stackOffsetExpand as _r,stackOffsetDiverging as wr,stackOffsetNone as xr,stackOffsetSilhouette as Or,stackOffsetWiggle as Wr}from"d3-shape";import{format as Cr}from"d3-format";import{timeFormat as zr}from"d3-time-format";import Pr from"lodash/isPlainObject";import Tr from"lodash/pick";import Sr from"lodash/isEqual";function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Mr.apply(this,arguments)}function jr(e,r){return jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},jr(e,r)}function Br(e,r){if(null==e)return{};var t,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],r.indexOf(t)>=0||(n[t]=e[t]);return n}var Gr={fill:c.string,fontSize:c.number,fontFamily:c.string},Lr=c.shape({domain:c.shape({line:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,strokeDasharray:c.string}).isRequired}).isRequired,ticks:c.shape({line:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,strokeDasharray:c.string}).isRequired,text:c.shape(Mr({},Gr)).isRequired}).isRequired,legend:c.shape({text:c.shape(Mr({},Gr)).isRequired}).isRequired}),Ir=c.shape({line:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,strokeDasharray:c.string}).isRequired}),Dr=c.shape({hidden:c.shape({symbol:c.shape({fill:c.string.isRequired,opacity:c.number}).isRequired,text:c.shape(Mr({},Gr,{opacity:c.number})).isRequired}).isRequired,text:c.shape(Mr({},Gr)).isRequired}),Yr=c.shape({text:c.shape(Mr({},Gr)).isRequired}),Ar=c.shape({text:c.shape(Mr({},Gr)).isRequired}),Fr=c.shape({text:c.shape(Mr({},Gr)).isRequired}),Er=c.shape({line:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,strokeDasharray:c.string}).isRequired}),Ur=c.shape({text:c.shape(Mr({},Gr,{outlineWidth:c.number.isRequired,outlineColor:c.string.isRequired})).isRequired,link:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,outlineWidth:c.number.isRequired,outlineColor:c.string.isRequired}).isRequired,outline:c.shape({stroke:c.string.isRequired,strokeWidth:c.number.isRequired,outlineWidth:c.number.isRequired,outlineColor:c.string.isRequired}).isRequired,symbol:c.shape({fill:c.string.isRequired,outlineWidth:c.number.isRequired,outlineColor:c.string.isRequired}).isRequired}),Xr=c.shape({background:c.string.isRequired,fontFamily:c.string.isRequired,fontSize:c.number.isRequired,textColor:c.string.isRequired,axis:Lr.isRequired,grid:Ir.isRequired,legends:Dr.isRequired,labels:Yr.isRequired,dots:Ar.isRequired,markers:Fr,crosshair:Er.isRequired,annotations:Ur.isRequired}),Hr={background:"transparent",fontFamily:"sans-serif",fontSize:11,textColor:"#333333",axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}},Kr=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],Nr=function(e,r){var t=m({},e,r);return Kr.forEach((function(e){void 0===y(t,e+".fontFamily")&&v(t,e+".fontFamily",t.fontFamily),void 0===y(t,e+".fontSize")&&v(t,e+".fontSize",t.fontSize),void 0===y(t,e+".fill")&&v(t,e+".fill",t.textColor)})),t},Vr=e(),Jr=function(e){var t=e.children,i=e.animate,n=e.config,o=r((function(){var e=x(n)?q[n]:n;return{animate:i,config:e}}),[i,n]);return O(Vr.Provider,{value:o,children:t})},Qr={animate:c.bool,motionConfig:c.oneOfType([c.oneOf(Object.keys(q)),c.shape({mass:c.number,tension:c.number,friction:c.number,clamp:c.bool,precision:c.number,velocity:c.number,duration:c.number,easing:c.func})])};Jr.propTypes={children:c.node.isRequired,animate:Qr.animate,config:Qr.motionConfig};var Zr={animate:!0,config:"default"};Jr.defaultProps=Zr;var $r=function(){return t(Vr)},et=function(e){var t=$r(),o=t.animate,a=t.config,l=function(e){var r=i();return n((function(){r.current=e}),[e]),r.current}(e),s=r((function(){return R(l,e)}),[l,e]),d=k({from:{value:0},to:{value:1},reset:!0,config:a,immediate:!o}).value;return _(d,s)},rt={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:C(j),PRGn:C(B),PiYG:C(G),PuOr:C(L),RdBu:C(I),RdGy:C(D),RdYlBu:C(Y),RdYlGn:C(A),spectral:C(F),blues:C(E),greens:C(U),greys:C(X),oranges:C(H),purples:C(K),reds:C(N),BuGn:C(V),BuPu:C(J),GnBu:C(Q),OrRd:C(Z),PuBuGn:C($),PuBu:C(ee),PuRd:C(re),RdPu:C(te),YlGnBu:C(ie),YlGn:C(ne),YlOrBr:C(oe),YlOrRd:C(ae)},tt=Object.keys(rt),it=function(e){if(Ze(e)){if(!Ze(e.domain))throw new Error("Provided colors should be a valid quantize scale providing a 'domain()' function");return e}if(rt[e])return T().range(rt[e]);if(z(e))return T().range(e);throw new Error("Unable to guess quantize color scale from '"+e+"',\nmust be a function or one of:\n'"+tt.join("', '")+"'")},nt={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:le,accent:se,dark2:de,paired:ue,pastel1:ce,pastel2:fe,set1:pe,set2:he,set3:ge,brown_blueGreen:C(j),purpleRed_green:C(B),pink_yellowGreen:C(G),purple_orange:C(L),red_blue:C(I),red_grey:C(D),red_yellow_blue:C(Y),red_yellow_green:C(A),spectral:C(F),blues:C(E),greens:C(U),greys:C(X),oranges:C(H),purples:C(K),reds:C(N),blue_green:C(V),blue_purple:C(J),green_blue:C(Q),orange_red:C(Z),purple_blue_green:C($),purple_blue:C(ee),purple_red:C(re),red_purple:C(te),yellow_green_blue:C(ie),yellow_green:C(ne),yellow_orange_brown:C(oe),yellow_orange_red:C(ae)},ot=["nivo","category10","accent","dark2","paired","pastel1","pastel2","set1","set2","set3","brown_blueGreen","purpleRed_green","pink_yellowGreen","purple_orange","red_blue","red_grey","red_yellow_blue","red_yellow_green","spectral","blues","greens","greys","oranges","purples","reds","blue_green","blue_purple","green_blue","orange_red","purple_blue_green","purple_blue","purple_red","red_purple","yellow_green_blue","yellow_green","yellow_orange_brown","yellow_orange_red"],at={brown_blueGreen:be,purpleRed_green:me,pink_yellowGreen:ye,purple_orange:ve,red_blue:Re,red_grey:qe,red_yellow_blue:ke,red_yellow_green:_e,spectral:we,blues:xe,greens:Oe,greys:We,oranges:Ce,purples:ze,reds:Pe,viridis:Te,inferno:Se,magma:Me,plasma:je,warm:Be,cool:Ge,cubehelixDefault:Le,blue_green:Ie,blue_purple:De,green_blue:Ye,orange_red:Ae,purple_blue_green:Fe,purple_blue:Ee,purple_red:Ue,red_purple:Xe,yellow_green_blue:He,yellow_green:Ke,yellow_orange_brown:Ne,yellow_orange_red:Ve,rainbow:Je,sinebow:Qe},lt=["brown_blueGreen","purpleRed_green","pink_yellowGreen","purple_orange","red_blue","red_grey","red_yellow_blue","red_yellow_green","spectral","blues","greens","greys","oranges","purples","reds","viridis","inferno","magma","plasma","warm","cool","cubehelixDefault","blue_green","blue_purple","green_blue","orange_red","purple_blue_green","purple_blue","purple_red","red_purple","yellow_green_blue","yellow_green","yellow_orange_brown","yellow_orange_red","rainbow","sinebow"],st=function(){return S(["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"])},dt=function(e,r){if(P(e)){var t=nt[e];if(void 0!==t){var i=S(t);return i.type="ordinal",i}if(void 0!==r&&0===e.indexOf("seq:")){var n=at[e.slice(4)];if(void 0!==n){var o=M(n).domain(r.domain());return o.type="sequential",o}}}if(z(e)){var a=S(e);return a.type="ordinal",a}return function(){return e}},ut=c.oneOfType([c.oneOf(tt),c.func,c.arrayOf(c.string)]),ct={basis:er,basisClosed:rr,basisOpen:tr,bundle:ir,cardinal:nr,cardinalClosed:or,cardinalOpen:ar,catmullRom:lr,catmullRomClosed:sr,catmullRomOpen:dr,linear:ur,linearClosed:cr,monotoneX:fr,monotoneY:pr,natural:hr,step:gr,stepAfter:br,stepBefore:mr},ft=Object.keys(ct),pt=c.oneOf(ft),ht=ft.filter((function(e){return e.endsWith("Closed")})),gt=$e(ft,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),bt=$e(ft,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed"),mt=c.oneOf(bt),yt=function(e){if(!ct[e])throw new TypeError("'"+e+"', is not a valid curve interpolator identifier.");return ct[e]},vt={defs:c.arrayOf(c.shape({id:c.string.isRequired})).isRequired,fill:c.arrayOf(c.shape({id:c.string.isRequired,match:c.oneOfType([c.oneOf(["*"]),c.object,c.func]).isRequired})).isRequired},Rt={ascending:yr,descending:vr,insideOut:Rr,none:qr,reverse:kr},qt=Object.keys(Rt),kt=c.oneOf(qt),_t=function(e){return Rt[e]},wt={expand:_r,diverging:wr,none:xr,silhouette:Or,wiggle:Wr},xt=Object.keys(wt),Ot=c.oneOf(xt),Wt=function(e){return wt[e]},Ct=c.shape({top:c.number,right:c.number,bottom:c.number,left:c.number}).isRequired,zt=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Pt=c.oneOf(zt),Tt=function(e){return r((function(){return yt(e)}),[e])},St=!0,Mt=st,jt=S(ge),Bt={top:0,right:0,bottom:0,left:0},Gt=function(e,t,i){return void 0===i&&(i={}),r((function(){var r=Mr({},Bt,i);return{margin:r,innerWidth:e-r.left-r.right,innerHeight:t-r.top-r.bottom,outerWidth:e,outerHeight:t}}),[e,t,i.top,i.right,i.bottom,i.left])},Lt=function(){var e=i(null),r=o({left:0,top:0,width:0,height:0}),t=r[0],a=r[1],l=o((function(){return"undefined"==typeof ResizeObserver?null:new ResizeObserver((function(e){var r=e[0];return a(r.contentRect)}))}))[0];return n((function(){return e.current&&null!==l&&l.observe(e.current),function(){null!==l&&l.disconnect()}}),[]),[e,t]},It=function(e){return r((function(){return Nr(Hr,e)}),[e])},Dt=function(e){return"function"==typeof e?e:"string"==typeof e?0===e.indexOf("time:")?zr(e.slice("5")):Cr(e):function(e){return""+e}},Yt=function(e){return r((function(){return Dt(e)}),[e])},At=e(),Ft={},Et=function(e){var r=e.theme,t=void 0===r?Ft:r,i=e.children,n=It(t);return O(At.Provider,{value:n,children:i})};Et.propTypes={children:c.node.isRequired,theme:c.object};var Ut=function(){return t(At)},Xt=function(e){var r=e.children,t=e.condition,i=e.wrapper;return t?a(i,{},r):r};Xt.propTypes={children:c.node.isRequired,condition:c.bool.isRequired,wrapper:c.element.isRequired};var Ht={position:"relative"},Kt=function(e){var r=e.children,t=e.theme,n=e.renderWrapper,o=void 0===n||n,a=e.isInteractive,l=void 0===a||a,s=e.animate,d=e.motionConfig,u=i(null);return O(Et,{theme:t,children:O(Jr,{animate:s,config:d,children:O(f,{container:u,children:W(Xt,{condition:o,wrapper:O("div",{style:Ht,ref:u}),children:[r,l&&O(p,{})]})})})})};Kt.propTypes={children:c.element.isRequired,isInteractive:c.bool,renderWrapper:c.bool,theme:c.object,animate:c.bool,motionConfig:c.string};var Nt=function(){},Vt={position:"relative"},Jt=function(e){var t=e.children,n=e.theme,o=e.isInteractive,a=void 0===o||o,s=e.renderWrapper,d=void 0===s||s,u=e.animate,c=e.motionConfig,f=i(null),m=h(f),y=m.actions,v=m.state,R=l((function(e,r){return y.showTooltipFromEvent(e,r)}),[y.showTooltipFromEvent]),q=r((function(){return{showTooltip:a?R:Nt,hideTooltip:a?y.hideTooltip:Nt}}),[y.hideTooltip,a,R]);return O(Et,{theme:n,children:O(Jr,{animate:u,config:c,children:O(g.Provider,{value:y,children:O(b.Provider,{value:v,children:W(Xt,{condition:d,wrapper:O("div",{style:Vt,ref:f}),children:[t(q),a&&O(p,{})]})})})})})};Jt.propTypes={children:c.func.isRequired,isInteractive:c.bool,renderWrapper:c.bool,theme:c.object.isRequired,animate:c.bool.isRequired,motionConfig:c.string};var Qt=function(e){var r=e.children,t=Lt(),i=t[0],n=t[1],o=n.width>0&&n.height>0;return O("div",{ref:i,style:{width:"100%",height:"100%"},children:o&&r({width:n.width,height:n.height})})};Qt.propTypes={children:c.func.isRequired};var Zt=["id","colors"],$t=function(e){var r=e.id,t=e.colors,i=Br(e,Zt);return O("linearGradient",Mr({id:r,x1:0,x2:0,y1:0,y2:1},i,{children:t.map((function(e){var r=e.offset,t=e.color,i=e.opacity;return O("stop",{offset:r+"%",stopColor:t,stopOpacity:void 0!==i?i:1},r)}))}))};$t.propTypes={id:c.string.isRequired,colors:c.arrayOf(c.shape({offset:c.number.isRequired,color:c.string.isRequired,opacity:c.number})).isRequired,gradientTransform:c.string};var ei=function(e,r,t){return void 0===t&&(t={}),Mr({id:e,type:"linearGradient",colors:r},t)},ri={linearGradient:$t},ti=s((function(e){var r=e.id,t=e.background,i=e.color,n=e.size,o=e.padding,a=e.stagger,l=n+o,s=n/2,d=o/2;return!0===a&&(l=2*n+2*o),W("pattern",{id:r,width:l,height:l,patternUnits:"userSpaceOnUse",children:[O("rect",{width:l,height:l,fill:t}),O("circle",{cx:d+s,cy:d+s,r:s,fill:i}),a&&O("circle",{cx:1.5*o+n+s,cy:1.5*o+n+s,r:s,fill:i})]})}));ti.displayName="PatternDots",ti.propTypes={id:c.string.isRequired,color:c.string.isRequired,background:c.string.isRequired,size:c.number.isRequired,padding:c.number.isRequired,stagger:c.bool.isRequired},ti.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var ii=function(e,r){return void 0===r&&(r={}),Mr({id:e,type:"patternDots"},r)},ni=2*Math.PI,oi=function(e){return e*Math.PI/180},ai=function(e){return 180*e/Math.PI},li=function(e){return e.startAngle+(e.endAngle-e.startAngle)/2},si=function(e,r){return{x:Math.cos(e)*r,y:Math.sin(e)*r}},di=function(e){var r=e%360;return r<0&&(r+=360),r},ui=function(e){return e-ni*Math.floor((e+Math.PI)/ni)},ci=function(e){return e<0?360- -e%360:e%360},fi=function(e,r,t){void 0===t&&(t=360);var i=r;return Math.abs(r-e)>t&&(i=e+(r>e?t:-t)),[e,i]},pi={svg:{align:{left:"start",center:"middle",right:"end",start:"start",middle:"middle",end:"end"},baseline:{top:"text-before-edge",center:"central",bottom:"alphabetic"}},canvas:{align:{left:"left",center:"center",right:"right",start:"left",middle:"center",end:"right"},baseline:{top:"top",center:"middle",bottom:"bottom"}}},hi=function(e,r,t,i){void 0===i&&(i="svg");var n=pi[i],o=si(r-Math.PI/2,e),a=o.x,l=o.y,s=ai(r),d=n.align.center,u=n.baseline.bottom;return t>0?(d=n.align.right,u=n.baseline.center):t<0&&(d=n.align.left,u=n.baseline.center),0!==t&&s>180&&(s-=180,d=d===n.align.right?n.align.left:n.align.right),{x:a,y:l,rotate:s+=t,align:d,baseline:u}},gi=s((function(e){var r=e.id,t=e.spacing,i=e.rotation,n=e.background,o=e.color,a=e.lineWidth,l=Math.round(i)%360,s=Math.abs(t);l>180?l-=360:l>90?l-=180:l<-180?l+=360:l<-90&&(l+=180);var d,u=s,c=s;return 0===l?d="\n                M 0 0 L "+u+" 0\n                M 0 "+c+" L "+u+" "+c+"\n            ":90===l?d="\n                M 0 0 L 0 "+c+"\n                M "+u+" 0 L "+u+" "+c+"\n            ":(u=Math.abs(s/Math.sin(oi(l))),c=s/Math.sin(oi(90-l)),d=l>0?"\n                    M 0 "+-c+" L "+2*u+" "+c+"\n                    M "+-u+" "+-c+" L "+u+" "+c+"\n                    M "+-u+" 0 L "+u+" "+2*c+"\n                ":"\n                    M "+-u+" "+c+" L "+u+" "+-c+"\n                    M "+-u+" "+2*c+" L "+2*u+" "+-c+"\n                    M 0 "+2*c+" L "+2*u+" 0\n                "),W("pattern",{id:r,width:u,height:c,patternUnits:"userSpaceOnUse",children:[O("rect",{width:u,height:c,fill:n,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),O("path",{d:d,strokeWidth:a,stroke:o,strokeLinecap:"square"})]})}));gi.displayName="PatternLines",gi.propTypes={id:c.string.isRequired,spacing:c.number.isRequired,rotation:c.number.isRequired,background:c.string.isRequired,color:c.string.isRequired,lineWidth:c.number.isRequired},gi.defaultProps={spacing:5,rotation:0,color:"#000000",background:"#ffffff",lineWidth:2};var bi=function(e,r){return void 0===r&&(r={}),Mr({id:e,type:"patternLines"},r)},mi=s((function(e){var r=e.id,t=e.background,i=e.color,n=e.size,o=e.padding,a=e.stagger,l=n+o,s=o/2;return!0===a&&(l=2*n+2*o),W("pattern",{id:r,width:l,height:l,patternUnits:"userSpaceOnUse",children:[O("rect",{width:l,height:l,fill:t}),O("rect",{x:s,y:s,width:n,height:n,fill:i}),a&&O("rect",{x:1.5*o+n,y:1.5*o+n,width:n,height:n,fill:i})]})}));mi.displayName="PatternSquares",mi.propTypes={id:c.string.isRequired,color:c.string.isRequired,background:c.string.isRequired,size:c.number.isRequired,padding:c.number.isRequired,stagger:c.bool.isRequired},mi.defaultProps={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1};var yi=function(e,r){return void 0===r&&(r={}),Mr({id:e,type:"patternSquares"},r)},vi={patternDots:ti,patternLines:gi,patternSquares:mi},Ri=["type"],qi=Mr({},ri,vi),ki=function(e){var r=e.defs;return!r||r.length<1?null:O("defs",{"aria-hidden":!0,children:r.map((function(e){var r=e.type,t=Br(e,Ri);return qi[r]?d(qi[r],Mr({key:t.id},t)):null}))})};ki.propTypes={defs:c.arrayOf(c.shape({type:c.oneOf(Object.keys(qi)).isRequired,id:c.string.isRequired}))};var _i=s(ki),wi=function(e){var r=e.width,t=e.height,i=e.margin,n=e.defs,o=e.children,a=e.role,l=e.ariaLabel,s=e.ariaLabelledBy,d=e.ariaDescribedBy,u=e.isFocusable,c=Ut();return W("svg",{xmlns:"http://www.w3.org/2000/svg",width:r,height:t,role:a,"aria-label":l,"aria-labelledby":s,"aria-describedby":d,focusable:u,tabIndex:u?0:void 0,children:[O(_i,{defs:n}),O("rect",{width:r,height:t,fill:c.background}),O("g",{transform:"translate("+i.left+","+i.top+")",children:o})]})};wi.propTypes={width:c.number.isRequired,height:c.number.isRequired,margin:c.shape({top:c.number.isRequired,left:c.number.isRequired}).isRequired,defs:c.array,children:c.oneOfType([c.arrayOf(c.node),c.node]).isRequired,role:c.string,isFocusable:c.bool,ariaLabel:c.string,ariaLabelledBy:c.string,ariaDescribedBy:c.string};var xi=function(e){var r=e.size,t=e.color,i=e.borderWidth,n=e.borderColor;return O("circle",{r:r/2,fill:t,stroke:n,strokeWidth:i,style:{pointerEvents:"none"}})};xi.propTypes={size:c.number.isRequired,color:c.string.isRequired,borderWidth:c.number.isRequired,borderColor:c.string.isRequired};var Oi=s(xi),Wi=function(e){var r=e.x,t=e.y,i=e.symbol,n=void 0===i?Oi:i,o=e.size,a=e.datum,l=e.color,s=e.borderWidth,u=e.borderColor,c=e.label,f=e.labelTextAnchor,p=void 0===f?"middle":f,h=e.labelYOffset,g=void 0===h?-12:h,b=Ut(),m=$r(),y=m.animate,v=m.config,R=k({transform:"translate("+r+", "+t+")",config:v,immediate:!y});return W(w.g,{transform:R.transform,style:{pointerEvents:"none"},children:[d(n,{size:o,color:l,datum:a,borderWidth:s,borderColor:u}),c&&O("text",{textAnchor:p,y:g,style:b.dots.text,children:c})]})};Wi.propTypes={x:c.number.isRequired,y:c.number.isRequired,datum:c.object.isRequired,size:c.number.isRequired,color:c.string.isRequired,borderWidth:c.number.isRequired,borderColor:c.string.isRequired,symbol:c.oneOfType([c.func,c.object]),label:c.oneOfType([c.string,c.number]),labelTextAnchor:c.oneOf(["start","middle","end"]),labelYOffset:c.number};var Ci=s(Wi),zi=function(e){var r=e.width,t=e.height,i=e.axis,n=e.scale,o=e.value,a=e.lineStyle,l=e.textStyle,s=e.legend,d=e.legendPosition,u=e.legendOffsetX,c=e.legendOffsetY,f=e.legendOrientation,p=Ut(),h=0,g=0,b=0,m=0;"y"===i?(b=n(o),g=r):(h=n(o),m=t);var y=null;if(s){var v=function(e){var r=e.axis,t=e.width,i=e.height,n=e.position,o=e.offsetX,a=e.offsetY,l=e.orientation,s=0,d=0,u="vertical"===l?-90:0,c="start";if("x"===r)switch(n){case"top-left":s=-o,d=a,c="end";break;case"top":d=-a,c="horizontal"===l?"middle":"start";break;case"top-right":s=o,d=a,c="horizontal"===l?"start":"end";break;case"right":s=o,d=i/2,c="horizontal"===l?"start":"middle";break;case"bottom-right":s=o,d=i-a,c="start";break;case"bottom":d=i+a,c="horizontal"===l?"middle":"end";break;case"bottom-left":d=i-a,s=-o,c="horizontal"===l?"end":"start";break;case"left":s=-o,d=i/2,c="horizontal"===l?"end":"middle"}else switch(n){case"top-left":s=o,d=-a,c="start";break;case"top":s=t/2,d=-a,c="horizontal"===l?"middle":"start";break;case"top-right":s=t-o,d=-a,c="horizontal"===l?"end":"start";break;case"right":s=t+o,c="horizontal"===l?"start":"middle";break;case"bottom-right":s=t-o,d=a,c="end";break;case"bottom":s=t/2,d=a,c="horizontal"===l?"middle":"end";break;case"bottom-left":s=o,d=a,c="horizontal"===l?"start":"end";break;case"left":s=-o,c="horizontal"===l?"end":"middle"}return{x:s,y:d,rotation:u,textAnchor:c}}({axis:i,width:r,height:t,position:d,offsetX:u,offsetY:c,orientation:f});y=O("text",{transform:"translate("+v.x+", "+v.y+") rotate("+v.rotation+")",textAnchor:v.textAnchor,dominantBaseline:"central",style:l,children:s})}return W("g",{transform:"translate("+h+", "+b+")",children:[O("line",{x1:0,x2:g,y1:0,y2:m,stroke:p.markers.lineColor,strokeWidth:p.markers.lineStrokeWidth,style:a}),y]})};zi.propTypes={width:c.number.isRequired,height:c.number.isRequired,axis:c.oneOf(["x","y"]).isRequired,scale:c.func.isRequired,value:c.oneOfType([c.number,c.string,c.instanceOf(Date)]).isRequired,lineStyle:c.object,textStyle:c.object,legend:c.string,legendPosition:c.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:c.number.isRequired,legendOffsetY:c.number.isRequired,legendOrientation:c.oneOf(["horizontal","vertical"]).isRequired},zi.defaultProps={legendPosition:"top-right",legendOffsetX:14,legendOffsetY:14,legendOrientation:"horizontal"};var Pi=s(zi),Ti=function(e){var r=e.markers,t=e.width,i=e.height,n=e.xScale,o=e.yScale;return r&&0!==r.length?r.map((function(e,r){return O(Pi,Mr({},e,{width:t,height:i,scale:"y"===e.axis?o:n}),r)})):null};Ti.propTypes={width:c.number.isRequired,height:c.number.isRequired,xScale:c.func.isRequired,yScale:c.func.isRequired,markers:c.arrayOf(c.shape({axis:c.oneOf(["x","y"]).isRequired,value:c.oneOfType([c.number,c.string,c.instanceOf(Date)]).isRequired,lineStyle:c.object,textStyle:c.object}))};var Si=s(Ti),Mi=["theme","renderWrapper","animate","motionConfig"],ji=function(e){return function(r){var t,i;function n(){return r.apply(this,arguments)||this}return i=r,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,jr(t,i),n.prototype.render=function(){var r=this.props,t=r.theme,i=r.renderWrapper,n=r.animate,o=r.motionConfig,a=Br(r,Mi);return O(Kt,{theme:t,renderWrapper:i,isInteractive:a.isInteractive,animate:n,motionConfig:o,children:O(e,Mr({},a))})},n}(u)},Bi=function(e,r){var t,i=Ze(e)?e:function(r){return y(r,e)};return r&&(t=Ze(r)?r:Cr(r)),t?function(e){return t(i(e))}:i},Gi=function(e){return Ze(e)?e:function(r){return y(r,e)}},Li=function(e){return r((function(){return Gi(e)}),[e])},Ii=["center","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],Di=function(e,r,t){var i=r.width-e.width,n=r.height-e.height,o=0,a=0;return"center"===t&&(o=i/2,a=n/2),"top"===t&&(o=i/2),"top-right"===t&&(o=i),"right"===t&&(o=i,a=n/2),"bottom-right"===t&&(o=i,a=n),"bottom"===t&&(o=i/2,a=n),"bottom-left"===t&&(a=n),"left"===t&&(a=n/2),[o,a]},Yi=function(e,r,t,i){var n=t-e,o=i-r;return n*=n,o*=o,Math.sqrt(n+o)},Ai=function(e,r,t,i){var n=Math.atan2(i-r,t-e)-Math.PI/2;return n>0?n:2*Math.PI+n},Fi=function(e,r,t,i,n,o){return e<=n&&n<=e+t&&r<=o&&o<=r+i},Ei=function(e,r){var t,i=r.clientX,n=r.clientY,o=e.getBoundingClientRect(),a=(t=void 0!==e.getBBox?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}).width===o.width?1:t.width/o.width;return[(i-o.left)*a,(n-o.top)*a]},Ui=Object.keys(ri),Xi=Object.keys(vi),Hi=function(e,r,t){if("*"===e)return!0;if(Ze(e))return e(r);if(Pr(e)){var i=t?y(r,t):r;return Sr(Tr(i,Object.keys(e)),e)}return!1},Ki=function(e,r,t,i){var n=void 0===i?{}:i,o=n.dataKey,a=n.colorKey,l=void 0===a?"color":a,s=n.targetKey,d=void 0===s?"fill":s,u=[],c={};return e.length&&r.length&&(u=[].concat(e),r.forEach((function(r){for(var i=function(){var i=t[n],a=i.id,s=i.match;if(Hi(s,r,o)){var f=e.find((function(e){return e.id===a}));if(f)if(Xi.includes(f.type))if("inherit"===f.background||"inherit"===f.color){var p=y(r,l),h=f.background,g=f.color,b=a;"inherit"===f.background&&(b=b+".bg."+p,h=p),"inherit"===f.color&&(b=b+".fg."+p,g=p),v(r,d,"url(#"+b+")"),c[b]||(u.push(Mr({},f,{id:b,background:h,color:g})),c[b]=1)}else v(r,d,"url(#"+a+")");else if(Ui.includes(f.type)){if(f.colors.map((function(e){return e.color})).includes("inherit")){var m=y(r,l),R=a,q=Mr({},f,{colors:f.colors.map((function(e,r){return"inherit"!==e.color?e:(R=R+"."+r+"."+m,Mr({},e,{color:"inherit"===e.color?m:e.color}))}))});q.id=R,v(r,d,"url(#"+R+")"),c[R]||(u.push(q),c[R]=1)}else v(r,d,"url(#"+a+")")}return"break"}},n=0;n<t.length;n++){if("break"===i())break}}))),u};export{Si as CartesianMarkers,Pi as CartesianMarkersItem,Kt as Container,_i as Defs,Ci as DotsItem,Jt as LegacyContainer,$t as LinearGradient,Jr as MotionConfigProvider,ti as PatternDots,gi as PatternLines,mi as PatternSquares,Qt as ResponsiveWrapper,wi as SvgWrapper,ni as TWO_PI,Et as ThemeProvider,di as absoluteAngleDegrees,ui as absoluteAngleRadians,Di as alignBox,Ur as annotationsPropType,gt as areaCurvePropKeys,Lr as axisThemePropType,Ki as bindDefs,Pt as blendModePropType,zt as blendModes,Ii as boxAlignments,fi as clampArc,ht as closedCurvePropKeys,lt as colorInterpolatorIds,at as colorInterpolators,ot as colorSchemeIds,Er as crosshairPropType,yt as curveFromProp,ft as curvePropKeys,ct as curvePropMapping,pt as curvePropType,St as defaultAnimate,Mt as defaultCategoricalColors,jt as defaultColorRange,Bt as defaultMargin,Hr as defaultTheme,vt as defsPropTypes,oi as degreesToRadians,Ar as dotsThemePropType,Nr as extendDefaultTheme,Ai as getAngle,dt as getColorScale,Yi as getDistance,Bi as getLabelGenerator,hi as getPolarLabelProps,Gi as getPropertyAccessor,Ei as getRelativeCursor,Dt as getValueFormatter,ri as gradientTypes,Ir as gridThemePropType,it as guessQuantizeColorScale,Fi as isCursorInRect,Hi as isMatchingDef,Yr as labelsThemePropType,Dr as legendsThemePropType,bt as lineCurvePropKeys,mt as lineCurvePropType,ei as linearGradientDef,Ct as marginPropType,Fr as markersThemePropType,li as midAngle,Vr as motionConfigContext,Zr as motionDefaultProps,Qr as motionPropTypes,st as nivoCategoricalColors,Nt as noop,ci as normalizeAngle,ii as patternDotsDef,bi as patternLinesDef,yi as patternSquaresDef,vi as patternTypes,si as positionFromAngle,ut as quantizeColorScalePropType,rt as quantizeColorScales,tt as quantizeColorScalesKeys,ai as radiansToDegrees,Wt as stackOffsetFromProp,xt as stackOffsetPropKeys,wt as stackOffsetPropMapping,Ot as stackOffsetPropType,_t as stackOrderFromProp,qt as stackOrderPropKeys,Rt as stackOrderPropMapping,kt as stackOrderPropType,pi as textPropsByEngine,At as themeContext,Xr as themePropType,et as useAnimatedPath,Tt as useCurveInterpolation,Gt as useDimensions,Lt as useMeasure,$r as useMotionConfig,It as usePartialTheme,Li as usePropertyAccessor,Ut as useTheme,Yt as useValueFormatter,ji as withContainer};
//# sourceMappingURL=nivo-core.es.js.map
