"use strict";var e=require("react"),r=require("@nivo/core"),i=require("@nivo/colors"),n=require("@nivo/axes"),o=require("@nivo/legends"),t=require("@nivo/tooltip"),a=require("d3-shape"),s=require("@nivo/scales"),l=require("prop-types"),u=require("react/jsx-runtime"),d=require("@react-spring/web"),c=require("@nivo/voronoi");function p(){return p=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p.apply(this,arguments)}var f=function(e){var r=e.point;return u.jsx(t.BasicTooltip,{id:u.jsxs("span",{children:["x: ",u.jsx("strong",{children:r.data.xFormatted}),", y:"," ",u.jsx("strong",{children:r.data.yFormatted})]}),enableChip:!0,color:r.serieColor})};f.propTypes={point:l.object.isRequired};var h=e.memo(f),b=function(e){var i=e.slice,n=e.axis,o=r.useTheme(),a="x"===n?"y":"x";return u.jsx(t.TableTooltip,{rows:i.points.map((function(e){return[u.jsx(t.Chip,{color:e.serieColor,style:o.tooltip.chip},"chip"),e.serieId,u.jsx("span",{style:o.tooltip.tableCellValue,children:e.data[a+"Formatted"]},"value")]}))})};b.propTypes={slice:l.object.isRequired,axis:l.oneOf(["x","y"]).isRequired};var y=e.memo(b),m={data:l.arrayOf(l.shape({id:l.oneOfType([l.string,l.number]).isRequired,data:l.arrayOf(l.shape({x:l.oneOfType([l.number,l.string,l.instanceOf(Date)]),y:l.oneOfType([l.number,l.string,l.instanceOf(Date)])})).isRequired})).isRequired,xScale:l.object.isRequired,xFormat:l.oneOfType([l.func,l.string]),yScale:l.object.isRequired,yFormat:l.oneOfType([l.func,l.string]),layers:l.arrayOf(l.oneOfType([l.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),l.func])).isRequired,curve:r.lineCurvePropType.isRequired,axisTop:n.axisPropType,axisRight:n.axisPropType,axisBottom:n.axisPropType,axisLeft:n.axisPropType,enableGridX:l.bool.isRequired,enableGridY:l.bool.isRequired,gridXValues:l.oneOfType([l.number,l.arrayOf(l.oneOfType([l.number,l.string,l.instanceOf(Date)]))]),gridYValues:l.oneOfType([l.number,l.arrayOf(l.oneOfType([l.number,l.string,l.instanceOf(Date)]))]),enablePoints:l.bool.isRequired,pointSymbol:l.func,pointSize:l.number.isRequired,pointColor:l.any.isRequired,pointBorderWidth:l.number.isRequired,pointBorderColor:l.any.isRequired,enablePointLabel:l.bool.isRequired,pointLabel:l.oneOfType([l.string,l.func]).isRequired,markers:l.arrayOf(l.shape({axis:l.oneOf(["x","y"]).isRequired,value:l.oneOfType([l.number,l.string,l.instanceOf(Date)]).isRequired,style:l.object})),colors:i.ordinalColorsPropType.isRequired,enableArea:l.bool.isRequired,areaOpacity:l.number.isRequired,areaBlendMode:r.blendModePropType.isRequired,areaBaselineValue:l.oneOfType([l.number,l.string,l.instanceOf(Date)]).isRequired,lineWidth:l.number.isRequired,legends:l.arrayOf(l.shape(o.LegendPropShape)).isRequired,isInteractive:l.bool.isRequired,debugMesh:l.bool.isRequired,tooltip:l.oneOfType([l.func,l.object]).isRequired,enableSlices:l.oneOf(["x","y",!1]).isRequired,debugSlices:l.bool.isRequired,sliceTooltip:l.oneOfType([l.func,l.object]).isRequired,enableCrosshair:l.bool.isRequired,crosshairType:l.string.isRequired},x=p({},m,{enablePointLabel:l.bool.isRequired,role:l.string.isRequired,useMesh:l.bool.isRequired},r.motionPropTypes,r.defsPropTypes),g=p({pixelRatio:l.number.isRequired},m),v={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:h,enableSlices:!1,debugSlices:!1,sliceTooltip:y,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},C=p({},v,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),R=p({},v,{pixelRatio:"undefined"!=typeof window&&window.devicePixelRatio||1}),q=function(i){var n=i.curve;return e.useMemo((function(){return a.line().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y((function(e){return e.y})).curve(r.curveFromProp(n))}),[n])},M=function(i){var n=i.curve,o=i.yScale,t=i.areaBaselineValue;return e.useMemo((function(){return a.area().defined((function(e){return null!==e.x&&null!==e.y})).x((function(e){return e.x})).y1((function(e){return e.y})).curve(r.curveFromProp(n)).y0(o(t))}),[n,o,t])},T=function(r){var i=r.enableSlices,n=r.points,o=r.width,t=r.height;return e.useMemo((function(){if(!1===i)return[];if("x"===i){var e=new Map;return n.forEach((function(r){null!==r.data.x&&null!==r.data.y&&(e.has(r.x)?e.get(r.x).push(r):e.set(r.x,[r]))})),Array.from(e.entries()).sort((function(e,r){return e[0]-r[0]})).map((function(e,r,i){var n,a=e[0],s=e[1],l=i[r-1],u=i[r+1];return{id:a,x0:n=l?a-(a-l[0])/2:a,x:a,y0:0,y:0,width:u?a-n+(u[0]-a)/2:o-n,height:t,points:s.reverse()}}))}if("y"===i){var r=new Map;return n.forEach((function(e){null!==e.data.x&&null!==e.data.y&&(r.has(e.y)?r.get(e.y).push(e):r.set(e.y,[e]))})),Array.from(r.entries()).sort((function(e,r){return e[0]-r[0]})).map((function(e,r,i){var n,a,s=e[0],l=e[1],u=i[r-1],d=i[r+1];return n=u?s-(s-u[0])/2:s,a=d?s-n+(d[0]-s)/2:t-n,{id:s,x0:0,x:0,y0:n,y:s,width:o,height:a,points:l.reverse()}}))}}),[i,n])},O=function(n){var o=n.data,t=n.xScale,a=void 0===t?C.xScale:t,l=n.xFormat,u=n.yScale,d=void 0===u?C.yScale:u,c=n.yFormat,f=n.width,h=n.height,b=n.colors,y=void 0===b?C.colors:b,m=n.curve,x=void 0===m?C.curve:m,g=n.areaBaselineValue,v=void 0===g?C.areaBaselineValue:g,R=n.pointColor,O=void 0===R?C.pointColor:R,S=n.pointBorderColor,j=void 0===S?C.pointBorderColor:S,k=n.enableSlices,w=void 0===k?C.enableSlicesTooltip:k,L=r.useValueFormatter(l),P=r.useValueFormatter(c),B=i.useOrdinalColorScale(y,"id"),W=r.useTheme(),G=i.useInheritedColor(O,W),E=i.useInheritedColor(j,W),F=e.useState([]),V=F[0],D=F[1],Y=e.useMemo((function(){return s.computeXYScalesForSeries(o.filter((function(e){return-1===V.indexOf(e.id)})),a,d,f,h)}),[o,V,a,d,f,h]),A=Y.xScale,I=Y.yScale,X=Y.series,z=e.useMemo((function(){var e=o.map((function(e){return{id:e.id,label:e.id,color:B(e)}})),r=e.map((function(e){return p({},X.find((function(r){return r.id===e.id})),{color:e.color})})).filter((function(e){return Boolean(e.id)}));return{legendData:e.map((function(e){return p({},e,{hidden:!r.find((function(r){return r.id===e.id}))})})).reverse(),series:r}}),[o,X,B]),H=z.legendData,J=z.series,K=e.useCallback((function(e){D((function(r){return r.indexOf(e)>-1?r.filter((function(r){return r!==e})):[].concat(r,[e])}))}),[]),N=function(r){var i=r.series,n=r.getPointColor,o=r.getPointBorderColor,t=r.formatX,a=r.formatY;return e.useMemo((function(){return i.reduce((function(e,r){return[].concat(e,r.data.filter((function(e){return null!==e.position.x&&null!==e.position.y})).map((function(i,s){var l={id:r.id+"."+s,index:e.length+s,serieId:r.id,serieColor:r.color,x:i.position.x,y:i.position.y};return l.color=n(r),l.borderColor=o(l),l.data=p({},i.data,{xFormatted:t(i.data.x),yFormatted:a(i.data.y)}),l})))}),[])}),[i,n,o,t,a])}({series:J,getPointColor:G,getPointBorderColor:E,formatX:L,formatY:P}),Q=T({enableSlices:w,points:N,width:f,height:h});return{legendData:H,toggleSerie:K,lineGenerator:q({curve:x}),areaGenerator:M({curve:x,yScale:I,areaBaselineValue:v}),getColor:B,series:J,xScale:A,yScale:I,slices:Q,points:N}},S=function(e){var i=e.areaBlendMode,n=e.areaOpacity,o=e.color,t=e.fill,a=e.path,s=r.useMotionConfig(),l=s.animate,c=s.config,p=r.useAnimatedPath(a),f=d.useSpring({color:o,config:c,immediate:!l});return u.jsx(d.animated.path,{d:p,fill:t||f.color,fillOpacity:n,strokeWidth:0,style:{mixBlendMode:i}})};S.propTypes={areaBlendMode:r.blendModePropType.isRequired,areaOpacity:l.number.isRequired,color:l.string,fill:l.string,path:l.string.isRequired};var j=function(e){var r=e.areaGenerator,i=e.areaOpacity,n=e.areaBlendMode,o=e.lines.slice(0).reverse();return u.jsx("g",{children:o.map((function(e){return u.jsx(S,p({path:r(e.data.map((function(e){return e.position})))},p({areaOpacity:i,areaBlendMode:n},e)),e.id)}))})};j.propTypes={areaGenerator:l.func.isRequired,areaOpacity:l.number.isRequired,areaBlendMode:r.blendModePropType.isRequired,lines:l.arrayOf(l.object).isRequired};var k=e.memo(j),w=function(i){var n=i.lineGenerator,o=i.points,t=i.color,a=i.thickness,s=e.useMemo((function(){return n(o)}),[n,o]),l=r.useAnimatedPath(s);return u.jsx(d.animated.path,{d:l,fill:"none",strokeWidth:a,stroke:t})};w.propTypes={points:l.arrayOf(l.shape({x:l.oneOfType([l.string,l.number]),y:l.oneOfType([l.string,l.number])})),lineGenerator:l.func.isRequired,color:l.string.isRequired,thickness:l.number.isRequired};var L=e.memo(w),P=function(e){var r=e.lines,i=e.lineGenerator,n=e.lineWidth;return r.slice(0).reverse().map((function(e){var r=e.id,o=e.data,t=e.color;return u.jsx(L,{id:r,points:o.map((function(e){return e.position})),lineGenerator:i,color:t,thickness:n},r)}))};P.propTypes={lines:l.arrayOf(l.shape({id:l.oneOfType([l.string,l.number]).isRequired,color:l.string.isRequired,data:l.arrayOf(l.shape({data:l.shape({x:l.oneOfType([l.string,l.number,l.instanceOf(Date)]),y:l.oneOfType([l.string,l.number,l.instanceOf(Date)])}).isRequired,position:l.shape({x:l.number,y:l.number}).isRequired})).isRequired})).isRequired,lineWidth:l.number.isRequired,lineGenerator:l.func.isRequired};var B=e.memo(P),W=function(r){var i=r.slice,n=r.axis,o=r.debug,a=r.tooltip,s=r.isCurrent,l=r.setCurrent,d=r.onMouseEnter,c=r.onMouseMove,p=r.onMouseLeave,f=r.onClick,h=t.useTooltip(),b=h.showTooltipFromEvent,y=h.hideTooltip,m=e.useCallback((function(r){b(e.createElement(a,{slice:i,axis:n}),r,"right"),l(i),d&&d(i,r)}),[b,a,i,d]),x=e.useCallback((function(r){b(e.createElement(a,{slice:i,axis:n}),r,"right"),c&&c(i,r)}),[b,a,i,c]),g=e.useCallback((function(e){y(),l(null),p&&p(i,e)}),[y,i,p]),v=e.useCallback((function(e){f&&f(i,e)}),[i,f]);return u.jsx("rect",{x:i.x0,y:i.y0,width:i.width,height:i.height,stroke:"red",strokeWidth:o?1:0,strokeOpacity:.75,fill:"red",fillOpacity:s&&o?.35:0,onMouseEnter:m,onMouseMove:x,onMouseLeave:g,onClick:v,"data-testid":"slice-"+i.id})};W.propTypes={slice:l.object.isRequired,axis:l.oneOf(["x","y"]).isRequired,debug:l.bool.isRequired,height:l.number.isRequired,tooltip:l.oneOfType([l.func,l.object]),isCurrent:l.bool.isRequired,setCurrent:l.func.isRequired,onMouseEnter:l.func,onMouseMove:l.func,onMouseLeave:l.func,onClick:l.func};var G=e.memo(W),E=function(e){var r=e.slices,i=e.axis,n=e.debug,o=e.height,t=e.tooltip,a=e.current,s=e.setCurrent,l=e.onMouseEnter,d=e.onMouseMove,c=e.onMouseLeave,p=e.onClick;return r.map((function(e){return u.jsx(G,{slice:e,axis:i,debug:n,height:o,tooltip:t,setCurrent:s,isCurrent:null!==a&&a.id===e.id,onMouseEnter:l,onMouseMove:d,onMouseLeave:c,onClick:p},e.id)}))};E.propTypes={slices:l.arrayOf(l.shape({id:l.oneOfType([l.number,l.string,l.instanceOf(Date)]).isRequired,x:l.number.isRequired,y:l.number.isRequired,points:l.arrayOf(l.object).isRequired})).isRequired,axis:l.oneOf(["x","y"]).isRequired,debug:l.bool.isRequired,height:l.number.isRequired,tooltip:l.oneOfType([l.func,l.object]).isRequired,current:l.object,setCurrent:l.func.isRequired,onMouseEnter:l.func,onMouseMove:l.func,onMouseLeave:l.func,onClick:l.func};var F=e.memo(E),V=function(e){var i=e.points,n=e.symbol,o=e.size,t=e.borderWidth,a=e.enableLabel,s=e.label,l=e.labelYOffset,d=r.useTheme(),c=r.getLabelGenerator(s),p=i.slice(0).reverse().map((function(e){return{id:e.id,x:e.x,y:e.y,datum:e.data,fill:e.color,stroke:e.borderColor,label:a?c(e.data):null}}));return u.jsx("g",{children:p.map((function(e){return u.jsx(r.DotsItem,{x:e.x,y:e.y,datum:e.datum,symbol:n,size:o,color:e.fill,borderWidth:t,borderColor:e.stroke,label:e.label,labelYOffset:l,theme:d},e.id)}))})};V.propTypes={points:l.arrayOf(l.object),symbol:l.func,size:l.number.isRequired,color:l.func.isRequired,borderWidth:l.number.isRequired,borderColor:l.func.isRequired,enableLabel:l.bool.isRequired,label:l.oneOfType([l.string,l.func]).isRequired,labelYOffset:l.number};var D=e.memo(V),Y=function(r){var i=r.points,n=r.width,o=r.height,a=r.margin,s=r.setCurrent,l=r.onMouseEnter,d=r.onMouseMove,p=r.onMouseLeave,f=r.onClick,h=r.tooltip,b=r.debug,y=t.useTooltip(),m=y.showTooltipAt,x=y.hideTooltip,g=e.useCallback((function(r,i){m(e.createElement(h,{point:r}),[r.x+a.left,r.y+a.top],"top"),s(r),l&&l(r,i)}),[s,m,h,l,a]),v=e.useCallback((function(r,i){m(e.createElement(h,{point:r}),[r.x+a.left,r.y+a.top],"top"),s(r),d&&d(r,i)}),[s,m,h,d]),C=e.useCallback((function(e,r){x(),s(null),p&&p(e,r)}),[x,s,p]),R=e.useCallback((function(e,r){f&&f(e,r)}),[f]);return u.jsx(c.Mesh,{nodes:i,width:n,height:o,onMouseEnter:g,onMouseMove:v,onMouseLeave:C,onClick:R,debug:b})};Y.propTypes={points:l.arrayOf(l.object).isRequired,width:l.number.isRequired,height:l.number.isRequired,margin:l.object.isRequired,setCurrent:l.func.isRequired,onMouseEnter:l.func,onMouseMove:l.func,onMouseLeave:l.func,onClick:l.func,tooltip:l.oneOfType([l.func,l.object]).isRequired,debug:l.bool.isRequired};var A=e.memo(Y),I=function(a){var s=a.data,l=a.xScale,d=a.xFormat,c=a.yScale,f=a.yFormat,h=a.layers,b=a.curve,y=a.areaBaselineValue,m=a.colors,x=a.margin,g=a.width,v=a.height,C=a.axisTop,R=a.axisRight,q=a.axisBottom,M=a.axisLeft,T=a.enableGridX,S=a.enableGridY,j=a.gridXValues,w=a.gridYValues,L=a.lineWidth,P=a.enableArea,W=a.areaOpacity,G=a.areaBlendMode,E=a.enablePoints,V=a.pointSymbol,Y=a.pointSize,I=a.pointColor,X=a.pointBorderWidth,z=a.pointBorderColor,H=a.enablePointLabel,J=a.pointLabel,K=a.pointLabelYOffset,N=a.defs,Q=a.fill,U=a.markers,Z=a.legends,$=a.isInteractive,_=a.useMesh,ee=a.debugMesh,re=a.onMouseEnter,ie=a.onMouseMove,ne=a.onMouseLeave,oe=a.onClick,te=a.tooltip,ae=a.enableSlices,se=a.debugSlices,le=a.sliceTooltip,ue=a.enableCrosshair,de=a.crosshairType,ce=a.role,pe=r.useDimensions(g,v,x),fe=pe.margin,he=pe.innerWidth,be=pe.innerHeight,ye=pe.outerWidth,me=pe.outerHeight,xe=O({data:s,xScale:l,xFormat:d,yScale:c,yFormat:f,width:he,height:be,colors:m,curve:b,areaBaselineValue:y,pointColor:I,pointBorderColor:z,enableSlices:ae}),ge=xe.legendData,ve=xe.toggleSerie,Ce=xe.lineGenerator,Re=xe.areaGenerator,qe=xe.series,Me=xe.xScale,Te=xe.yScale,Oe=xe.slices,Se=xe.points,je=r.useTheme(),ke=i.useInheritedColor(I,je),we=i.useInheritedColor(z,je),Le=e.useState(null),Pe=Le[0],Be=Le[1],We=e.useState(null),Ge=We[0],Ee=We[1],Fe={grid:u.jsx(n.Grid,{theme:je,width:he,height:be,xScale:T?Me:null,yScale:S?Te:null,xValues:j,yValues:w},"grid"),markers:u.jsx(r.CartesianMarkers,{markers:U,width:he,height:be,xScale:Me,yScale:Te,theme:je},"markers"),axes:u.jsx(n.Axes,{xScale:Me,yScale:Te,width:he,height:be,theme:je,top:C,right:R,bottom:q,left:M},"axes"),areas:null,lines:u.jsx(B,{lines:qe,lineGenerator:Ce,lineWidth:L},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:Z.map((function(e,r){return u.jsx(o.BoxLegendSvg,p({},e,{containerWidth:he,containerHeight:be,data:e.data||ge,theme:je,toggleSerie:e.toggleSerie?ve:void 0}),"legend."+r)}))},Ve=r.bindDefs(N,qe,Q);return P&&(Fe.areas=u.jsx(k,{areaGenerator:Re,areaOpacity:W,areaBlendMode:G,lines:qe},"areas")),$&&!1!==ae&&(Fe.slices=u.jsx(F,{slices:Oe,axis:ae,debug:se,height:be,tooltip:le,current:Ge,setCurrent:Ee,onMouseEnter:re,onMouseMove:ie,onMouseLeave:ne,onClick:oe},"slices")),E&&(Fe.points=u.jsx(D,{points:Se,symbol:V,size:Y,color:ke,borderWidth:X,borderColor:we,enableLabel:H,label:J,labelYOffset:K},"points")),$&&ue&&(null!==Pe&&(Fe.crosshair=u.jsx(t.Crosshair,{width:he,height:be,x:Pe.x,y:Pe.y,type:de},"crosshair")),null!==Ge&&(Fe.crosshair=u.jsx(t.Crosshair,{width:he,height:be,x:Ge.x,y:Ge.y,type:ae},"crosshair"))),$&&_&&!1===ae&&(Fe.mesh=u.jsx(A,{points:Se,width:he,height:be,margin:fe,current:Pe,setCurrent:Be,onMouseEnter:re,onMouseMove:ie,onMouseLeave:ne,onClick:oe,tooltip:te,debug:ee},"mesh")),u.jsx(r.SvgWrapper,{defs:Ve,width:ye,height:me,margin:fe,role:ce,children:h.map((function(r,i){return"function"==typeof r?u.jsx(e.Fragment,{children:r(p({},a,{innerWidth:he,innerHeight:be,series:qe,slices:Oe,points:Se,xScale:Me,yScale:Te,lineGenerator:Ce,areaGenerator:Re,currentPoint:Pe,setCurrentPoint:Be,currentSlice:Ge,setCurrentSlice:Ee}))},i):Fe[r]}))})};I.propTypes=x,I.defaultProps=C;var X=r.withContainer(I),z=function(i){var a=i.width,s=i.height,l=i.margin,d=i.pixelRatio,f=i.data,h=i.xScale,b=i.xFormat,y=i.yScale,m=i.yFormat,x=i.curve,g=i.layers,v=i.colors,C=i.lineWidth,R=i.enableArea,q=i.areaBaselineValue,M=i.areaOpacity,T=i.enablePoints,S=i.pointSize,j=i.pointColor,k=i.pointBorderWidth,w=i.pointBorderColor,L=i.enableGridX,P=i.gridXValues,B=i.enableGridY,W=i.gridYValues,G=i.axisTop,E=i.axisRight,F=i.axisBottom,V=i.axisLeft,D=i.legends,Y=i.isInteractive,A=i.debugMesh,I=i.onMouseLeave,X=i.onClick,z=i.tooltip,H=i.canvasRef,J=e.useRef(null),K=r.useDimensions(a,s,l),N=K.margin,Q=K.innerWidth,U=K.innerHeight,Z=K.outerWidth,$=K.outerHeight,_=r.useTheme(),ee=e.useState(null),re=ee[0],ie=ee[1],ne=O({data:f,xScale:h,xFormat:b,yScale:y,yFormat:m,width:Q,height:U,colors:v,curve:x,areaBaselineValue:q,pointColor:j,pointBorderColor:w}),oe=ne.lineGenerator,te=ne.areaGenerator,ae=ne.series,se=ne.xScale,le=ne.yScale,ue=ne.points,de=c.useVoronoiMesh({points:ue,width:Q,height:U,debug:A}),ce=de.delaunay,pe=de.voronoi;e.useEffect((function(){H&&(H.current=J.current),J.current.width=Z*d,J.current.height=$*d;var e=J.current.getContext("2d");e.scale(d,d),e.fillStyle=_.background,e.fillRect(0,0,Z,$),e.translate(N.left,N.top),g.forEach((function(r){if("function"==typeof r&&r({ctx:e,innerWidth:Q,innerHeight:U,series:ae,points:ue,xScale:se,yScale:le,lineWidth:C,lineGenerator:oe,areaGenerator:te,currentPoint:re,setCurrentPoint:ie}),"grid"===r&&_.grid.line.strokeWidth>0&&(e.lineWidth=_.grid.line.strokeWidth,e.strokeStyle=_.grid.line.stroke,L&&n.renderGridLinesToCanvas(e,{width:Q,height:U,scale:se,axis:"x",values:P}),B&&n.renderGridLinesToCanvas(e,{width:Q,height:U,scale:le,axis:"y",values:W})),"axes"===r&&n.renderAxesToCanvas(e,{xScale:se,yScale:le,width:Q,height:U,top:G,right:E,bottom:F,left:V,theme:_}),"areas"===r&&!0===R&&(e.save(),e.globalAlpha=M,te.context(e),ae.forEach((function(r){e.fillStyle=r.color,e.beginPath(),te(r.data.map((function(e){return e.position}))),e.fill()})),e.restore()),"lines"===r&&(oe.context(e),ae.forEach((function(r){e.strokeStyle=r.color,e.lineWidth=C,e.beginPath(),oe(r.data.map((function(e){return e.position}))),e.stroke()}))),"points"===r&&!0===T&&S>0&&ue.forEach((function(r){e.fillStyle=r.color,e.beginPath(),e.arc(r.x,r.y,S/2,0,2*Math.PI),e.fill(),k>0&&(e.strokeStyle=r.borderColor,e.lineWidth=k,e.stroke())})),"mesh"===r&&!0===A&&(c.renderVoronoiToCanvas(e,pe),re&&c.renderVoronoiCellToCanvas(e,pe,re.index)),"legends"===r){var i=ae.map((function(e){return{id:e.id,label:e.id,color:e.color}})).reverse();D.forEach((function(r){o.renderLegendToCanvas(e,p({},r,{data:r.data||i,containerWidth:Q,containerHeight:U,theme:_}))}))}}))}),[J,Z,$,g,_,oe,ae,se,le,L,P,B,W,G,E,F,V,D,ue,T,S,re]);var fe=e.useCallback((function(e){var i=r.getRelativeCursor(J.current,e),n=i[0],o=i[1];if(!r.isCursorInRect(N.left,N.top,Q,U,n,o))return null;var t=ce.find(n-N.left,o-N.top);return ue[t]}),[J,N,Q,U,ce]),he=t.useTooltip(),be=he.showTooltipFromEvent,ye=he.hideTooltip,me=e.useCallback((function(r){var i=fe(r);ie(i),i?be(e.createElement(z,{point:i}),r):ye()}),[fe,ie,be,ye,z]),xe=e.useCallback((function(e){ye(),ie(null),re&&I&&I(re,e)}),[ye,ie,I]),ge=e.useCallback((function(e){if(X){var r=fe(e);r&&X(r,e)}}),[fe,X]);return u.jsx("canvas",{ref:J,width:Z*d,height:$*d,style:{width:Z,height:$,cursor:Y?"auto":"normal"},onMouseEnter:Y?me:void 0,onMouseMove:Y?me:void 0,onMouseLeave:Y?xe:void 0,onClick:Y?ge:void 0})};z.propTypes=g,z.defaultProps=R;var H=r.withContainer(z),J=e.forwardRef((function(e,r){return u.jsx(H,p({},e,{canvasRef:r}))})),K=e.forwardRef((function(e,i){return u.jsx(r.ResponsiveWrapper,{children:function(r){var n=r.width,o=r.height;return u.jsx(J,p({width:n,height:o},e,{ref:i}))}})}));exports.Line=X,exports.LineCanvas=J,exports.LineCanvasDefaultProps=R,exports.LineCanvasPropTypes=g,exports.LineDefaultProps=C,exports.LinePropTypes=x,exports.ResponsiveLine=function(e){return u.jsx(r.ResponsiveWrapper,{children:function(r){var i=r.width,n=r.height;return u.jsx(X,p({width:i,height:n},e))}})},exports.ResponsiveLineCanvas=K,exports.useAreaGenerator=M,exports.useLine=O,exports.useLineGenerator=q,exports.useSlices=T;
//# sourceMappingURL=nivo-line.cjs.js.map
